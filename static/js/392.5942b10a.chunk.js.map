{"version":3,"file":"static/js/392.5942b10a.chunk.js","mappings":"qQAeMA,EAAO,WACX,OAAsCC,EAAAA,EAAAA,UAAS,IAA/C,eAAOC,EAAP,KAAoBC,EAApB,KACA,GAA0CF,EAAAA,EAAAA,WAAS,GAAnD,eAAOG,EAAP,KAAsBC,EAAtB,KACA,GAA0CJ,EAAAA,EAAAA,YAA1C,eAAOK,EAAP,KAAsBC,EAAtB,KACMC,GAAWC,EAAAA,EAAAA,OAEjBC,EAAAA,EAAAA,YAAU,YACR,iBAAC,qGACsBC,EAAAA,EAAAA,MADtB,QACOC,EADP,SAEeA,EAAOC,KAAKC,UACxBX,EAAeS,EAAOC,KAAKC,UAH9B,0CAAD,KAMC,IAGH,IAAMC,EAAU,SAACC,GACf,OAAO,WACLR,EAAS,qBAAD,OAAsBQ,MAK5BC,EAAS,SAACC,GACd,OAAO,WACLC,QAAQC,IAAIF,KAKVG,EAAW,SAACH,GAChB,OAAO,WACLb,GAAiB,GACjBE,EAAiBW,KAmBfI,EAAgC,CACpC,CACEC,MAAO,eACPC,UAAW,MACXC,IAAK,MACLC,OAAQ,SAACV,GAAD,OAAkB,cAAGW,QAASZ,EAAQC,GAApB,SAA4BA,MAExD,CACEO,MAAO,eACPC,UAAW,QACXC,IAAK,SAEP,CACEF,MAAO,2BACPC,UAAW,aACXC,IAAK,cAEP,CACEF,MAAO,2BACPC,UAAW,aACXC,IAAK,cAEP,CACEF,MAAO,eACPC,UAAW,SACXC,IAAK,SACLC,OAAQ,SAACV,EAAME,GACb,OACE,eAAOU,KAAK,SAAZ,WACE,cAAGD,QAASV,EAAOC,GAAnB,2BACA,cAAGS,QAASN,EAASH,GAArB,gCAMV,OACE,iCACE,cACEK,MAAM,qBACNM,QAASzB,EACT0B,KAvDiB,WACrB,IAAMC,GAAG,OAAO7B,GACV8B,EAAQ9B,EAAY+B,WAAU,SAACC,GAAD,OAAUA,IAAS5B,KACvDyB,EAAII,OAAOH,EAAO,GAClB7B,EAAe4B,GACf1B,GAAiB,IAmDb+B,SA/CqB,WACzB/B,GAAiB,IA0Cf,UAME,8DACUC,QADV,IACUA,OADV,EACUA,EAAemB,IADzB,WAC+BnB,QAD/B,IAC+BA,OAD/B,EAC+BA,EAAeiB,MAD9C,WAIF,cAAgBD,QAASA,EAASe,WAAYnC,QAKpD,WAAeoC,EAAAA,EAAAA,MAAKtC","sources":["pages/main/w3c/html/index.tsx"],"sourcesContent":["import { memo, useEffect, useState } from \"react\";\n\nimport { handleHtmlList } from \"api/index\";\nimport { Modal, Space, Table } from \"antd\";\nimport { ColumnsType } from \"antd/lib/table\";\nimport { useNavigate } from \"react-router-dom\";\n\ninterface article {\n  key: number;\n  title: string;\n  createTime: string;\n  updateTime: string;\n}\n\n// 组件\nconst Html = () => {\n  const [articleList, setArticleList] = useState([]);\n  const [isDeleteModal, setIsDeleteModal] = useState(false);\n  const [selectArticle, setSelectArticle] = useState<article>();\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    (async function () {\n      const result = await handleHtmlList();\n      if (result && result.data.htmlList) {\n        setArticleList(result.data.htmlList);\n      }\n    })();\n  }, []);\n\n  // 点击id,跳转文章详情\n  const idClick = (text: number) => {\n    return () => {\n      navigate(`/w3c/html/article/${text}`);\n    };\n  };\n\n  // 编辑\n  const onEdit = (record: article) => {\n    return () => {\n      console.log(record);\n    };\n  };\n\n  // 删除\n  const onDelete = (record: article) => {\n    return () => {\n      setIsDeleteModal(true);\n      setSelectArticle(record);\n    };\n  };\n\n  // 确认删除\n  const handleDeleteOk = () => {\n    const arr = [...articleList];\n    const index = articleList.findIndex((item) => item === selectArticle);\n    arr.splice(index, 1);\n    setArticleList(arr);\n    setIsDeleteModal(false);\n  };\n\n  // 取消删除\n  const handleDeleteCancel = () => {\n    setIsDeleteModal(false);\n  };\n\n  // 表格的标题\n  const columns: ColumnsType<article> = [\n    {\n      title: \"编号\",\n      dataIndex: \"key\",\n      key: \"key\",\n      render: (text: number) => <a onClick={idClick(text)}>{text}</a>,\n    },\n    {\n      title: \"标题\",\n      dataIndex: \"title\",\n      key: \"title\",\n    },\n    {\n      title: \"创建日期\",\n      dataIndex: \"createTime\",\n      key: \"createTime\",\n    },\n    {\n      title: \"修改日期\",\n      dataIndex: \"updateTime\",\n      key: \"updateTime\",\n    },\n    {\n      title: \"操作\",\n      dataIndex: \"action\",\n      key: \"action\",\n      render: (text, record) => {\n        return (\n          <Space size=\"middle\">\n            <a onClick={onEdit(record)}>编辑</a>\n            <a onClick={onDelete(record)}>删除</a>\n          </Space>\n        );\n      },\n    },\n  ];\n  return (\n    <>\n      <Modal\n        title=\"提示：\"\n        visible={isDeleteModal}\n        onOk={handleDeleteOk}\n        onCancel={handleDeleteCancel}\n      >\n        <p>\n          确认删除 : {selectArticle?.key} {selectArticle?.title} ?\n        </p>\n      </Modal>\n      <Table<article> columns={columns} dataSource={articleList} />\n    </>\n  );\n};\n\nexport default memo(Html);\n"],"names":["Html","useState","articleList","setArticleList","isDeleteModal","setIsDeleteModal","selectArticle","setSelectArticle","navigate","useNavigate","useEffect","handleHtmlList","result","data","htmlList","idClick","text","onEdit","record","console","log","onDelete","columns","title","dataIndex","key","render","onClick","size","visible","onOk","arr","index","findIndex","item","splice","onCancel","dataSource","memo"],"sourceRoot":""}