"use strict";(self.webpackChunkcoldfish=self.webpackChunkcoldfish||[]).push([[207],{1207:function(e,s,r){r.r(s),r.d(s,{default:function(){return b}});r(1071);var a=r(7309),n=(r(749),r(2014)),l=(r(149),r(135)),i=(r(6518),r(3695)),o=r(5861),t=(r(618),r(2085)),c=r(9439),m=r(7757),d=r.n(m),u=r(9529),h=r(8999),f=r(3504),x=r(3189),j=r(1533),p=r(7582),Z=r(2791),g=r(364),v=r(6871),N=r(7366),w=r(184),b=(0,Z.memo)((0,g.$j)(N.rN,N.D)((function(e){e.user;var s=e.userUpdate,r=t.Z.useForm(),m=(0,c.Z)(r,1)[0],Z=(0,j.Z)(p.B),g=(0,c.Z)(Z,2),N=(g[0],g[1]),b=(0,v.s0)(),k=function(){var e=(0,o.Z)(d().mark((function e(r){var a,n,l,o,t,c,m,u,h;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.username,n=r.password,l=r.remember,e.next=3,(0,x.jc)(a,n);case 3:(o=e.sent)&&o.data.userInfo?(t=o.data.userInfo,c=t.email,m=t.token,u=t.tel,h=t.role,N(l?m:null),s({username:a,password:n,email:c,tel:u,role:h}),i.ZP.success("\u767b\u5f55\u6210\u529f"),b("/")):i.ZP.error("\u7528\u6237\u540d\u6216\u5bc6\u7801\u9519\u8bef");case 5:case"end":return e.stop()}}),e)})));return function(s){return e.apply(this,arguments)}}();return(0,w.jsxs)("div",{className:"login",children:[(0,w.jsxs)("div",{className:"login-top",children:[(0,w.jsx)("div",{className:"welcome",children:"Welcome To Coldfish"}),(0,w.jsx)("div",{className:"triangle"}),(0,w.jsx)("div",{className:"rectangle"}),(0,w.jsx)("div",{className:"circular"})]}),(0,w.jsx)("div",{className:"login-form",children:(0,w.jsxs)(t.Z,{name:"normal_login",className:"login-form",initialValues:{remember:!0},onFinish:k,form:m,children:[(0,w.jsx)(t.Z.Item,{name:"username",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u7528\u6237\u540d"},{pattern:/^[A-Za-z\d_]{3,8}$/,message:"3-8\u4e2a\u5b57\u6bcd\u6570\u5b57\u4e0b\u5212\u7ebf"}],hasFeedback:!0,children:(0,w.jsx)(l.Z,{prefix:(0,w.jsx)(u.Z,{className:"site-form-item-icon"}),placeholder:"Username"})}),(0,w.jsx)(t.Z.Item,{name:"password",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5bc6\u7801"},{validator:function(e,s){return s.length>=6&&s.length<=10?Promise.resolve():Promise.reject("\u5bc6\u7801\u957f\u5ea6\u5fc5\u987b\u662f6~10\u4f4d")}}],hasFeedback:!0,children:(0,w.jsx)(l.Z.Password,{prefix:(0,w.jsx)(h.Z,{className:"site-form-item-icon"}),type:"password",placeholder:"Password"})}),(0,w.jsxs)(t.Z.Item,{children:[(0,w.jsx)(t.Z.Item,{name:"remember",valuePropName:"checked",noStyle:!0,children:(0,w.jsx)(n.Z,{style:{color:"white"},children:"\u8bb0\u4f4f\u767b\u5f55\u72b6\u6001"})}),(0,w.jsx)("a",{className:"login-form-forgot",href:"",children:"\u5fd8\u8bb0\u5bc6\u7801 ?"})]}),(0,w.jsxs)(t.Z.Item,{children:[(0,w.jsx)(a.Z,{type:"primary",htmlType:"submit",className:"login-form-button",children:"\u767b \u5f55"}),(0,w.jsx)(f.rU,{to:"/register",className:"toRegister",children:"\u73b0\u5728\u6ce8\u518c?"})]})]})})]})})))}}]);
//# sourceMappingURL=207.60fef119.chunk.js.map