### 浏览器内存

#### 问题

```css
前端项目打开网页后，隔一段时间会报内存不足
开始怀疑控制台log日志不断新增占用大量内存
做了隔段时间清理log日志，参考703100
发现问题依旧
```

```css
考虑是否可以查看当前页面的内存使用情况
```

#### 内存监控

##### 1.浏览器的任务管理器

###### 打开界面

```css
打开浏览器
快捷键 shift+esc，可以调出浏览器的任务管理器
可以看到各个网页的内存、cpu、网络使用情况
```

###### 查看数据

```css
项目刚打开时，内存使用在600,000k

浏览器的任务管理器中
选中当前页右键，可以查看各项内存使用数据
除内存、cpu、网络外
包括：javaScript使用的内存、图片缓存、脚本缓存等

观察到网页的内存占用空间和js使用的内存均在增长
内存占用空间主要观察的dom元素的变化，js使用空间监听的就是js堆上的变化

如果按照显示的数据，占用的内存是很大的
10几分钟后
网页:3557,000k，
js:2256,000k
难道有3个G的内存占用

到6G多的内存占用后，浏览器报内存不足
```

```css
同时，在windows任务管理器中
网页的内存使用，稳定在800M以下
两者的数据为何不一致？
```

##### 2.控制台performance

```css
https://zhuanlan.zhihu.com/p/339745248
```

##### 3.控制台memory

```css
Total JS heap size

项目数据从300M一直往上涨
```

##### 4.js获取内存数据

```css
window.performance.memory
单位:字节
jsHeapSizeLimit: 4294705152
totalJSHeapSize: 15581889
usedJSHeapSize: 12861993
```

#### 定位原因

##### 浏览器内存限制

```css
chrome 浏览器对单个页面最分配内存，32位（1G），64（1.4G）
不同的版本有差别
这里88版64位，估计有6个G的限制

到底是项目的那一部分导致内存不断上涨
还真是无从下手
```

##### 长列表

```css
有一个模块，是长列表滚动渲染
一直想进行优化
发现长列表没有数据时
网页内存占用量700,000k左右
且一直稳定没有上涨

那么大概率就是这个长列表的问题了
```

